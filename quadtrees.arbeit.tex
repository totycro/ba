\documentclass[%
			%fontsize=11pt,%
			paper=a4,% 
			%DIV12, % mehr text pro seite als defaultyyp
			DIV12, % mehr text pro seite als defaultyyp
			%DIV=calc,%
			%twoside=false,%
			draft=false,% final|draft % draft ist platzsparender (kein code, bilder..)
			titlepage
			]{scrartcl}


\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}

% for color-highlighted code
\usepackage[usenames]{color} % for grey comments
%\usepackage{alltt}

\usepackage[doublespacing]{setspace}
\usepackage{tabularx}
\usepackage{comment}
\usepackage[final]{listings} % sourcecode in document
\usepackage{url}      % for urls
\usepackage{multicol}

\usepackage{graphicx}

%\usepackage[square]{natbib} % \cite ; square|round etc.
\usepackage[numbers,square]{natbib}
%\usepackage[numbers,round]{natbib}

%\usepackage{bibgerm}
%\bibliographystyle{plain}
%\bibliographystyle{alpha}
\bibliographystyle{alphadin}
%\bibliographystyle{dinat}
%\bibliographystyle{plainnat}

%\bibdata{bib.bib}

\newcommand{\zit}[3]{#1 \cite{#2}, #3}
\newcommand{\zitx}[1]{\cite{#1}}

% smaller url style
\makeatletter
\def\url@leostyle{%
\@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\small\ttfamily}}}
\makeatother
\urlstyle{leo}

\newcommand{\myfig}[4] {
 \begin{figure}
	 \centering
	 \includegraphics[#3]{#1}
	 \caption{#4}
	 \label{fig:#2}
 \end{figure}
}

\title{Quadtrees}
\author{Bernhard Mallinger \\ e0707663}
%\subtitle{}
%\date{13. November 2007}
\publishers{Betreut durch Univ.-Ass. Dipl.-Ing., BSc Christian Schauer}

%\usepackage{fancyhdr}
%\setlength{\headrulewidth}{0.0pt}
\pagestyle{plain}

\definecolor{grey}{gray}{.2} % for grey commnts
\lstset{language=sh,%
escapeinside={@}{@},
extendedchars=true,%
%inputencoding=utf8x,%
basicstyle=\ttfamily\small,%
commentstyle=\color{grey},%
keywordstyle=,% no bold tt in standard font
captionpos=b,
tabsize=2,
showstringspaces=false,
breaklines=true,
backgroundcolor=\color{lgray}
}

\newcommand{\inlinecode}[1]{\mbox{\texttt{#1}}}

\newcommand{\mynull}{\textit{NULL}}

% just for screen-display!
%\usepackage{newcent}

\begin{document}

\maketitle

\tableofcontents 

\newpage

%%%%
% TODO
%
% binäre suche im anfang reinbringen -- bin tree

\part{Theorie}
\section{Einführung}
Quadtrees stellen eine Datenstruktur dar, welche von Binärbäumen abgeleitet sind. Sie erweitern dessen Prinzip der rekursiven, hierarchischen Aufteilung eines Raumes auf mehrere Dimensionen. 
Im Allgemeinen beschränkt man sich hier zur Vereinfachung auf zweidimensionale Daten, wobei die Verallgemeinerung auf \textit{n}-dimensionale Daten trivial ist.

Anstatt wie bei Binärbäumen den Raum bei jedem Schritt in zwei Unterbäume zu teilen, werden bei Quadtrees vier Kinder verwendet, um alle möglichen Richtungen in zwei Dimensionen bezüglich des aktuellen Knoten abzudecken. Der Name "`Quadtree"' leitet sich hiervon ab (lat. "`quad-"': "`vier-"'). 
Analog dazu bezeichnet man 3-dimensionale Bäume als "`Octtrees"'. Es ist weiters einfach zu sehen, dass $n$-dimensionale Bäume $2^n$ Kinder pro Knoten aufweisen.

Räumlichen Strukturen wie Quadtrees sind generall dann sinnvoll, wenn die Entfernung zweier Punkte für die Anwendung relevant ist. Beispiele hierfür sind unter anderem Repräsentation von Bildern (angrenzende Bereiche besitzen oftmals ähnliche Farben) oder Kollisionserkennung, wo das Interesse sogar auf sich überschneidende Strukturen liegt.

Beim Zugriff auf die so in einem Quadtree gespeicherten Daten unterscheidet man zwischen verschiedenen Anfragetypen:
\begin{description}
	\item[Point Query.] Mit dieser Anfrage versucht man herauszufinden, welche Daten sich bei einem bestimmten Punkt befinden. Anworten auf diese Anfrage können entweder \mynull\ bzw.\ ein Datenobjekt sein.
	\item[Range Query.] Hier interessiert man sich für die Knoten, welche innerhalb von Bereichen, die hinsichtlich mehreren Dimensionen ausgedehnt sein können, liegen. Zurückgegeben wird eine möglicherweise leere Liste von Datenobjekten.
	\item[Neighborhood Query.] Dieser Anfragetyp fokusiert sich auf Nähebeziehungen. Konkret werden die Knoten gesucht, welche die geringste Entfernung zu einem bestimmten Knoten aufweisen. Der Rückgabewert kann hier eine Liste oder ein einzelnes Datenobjekt sein.
\end{description}


\subsection{Funktionsprinzip}

Wie eingangs erwähnt wird bei einem Quadtree der Raum in einem Schritt in zwei Dimensionen geteilt.
In diesem Kontext bezeichnet man die Abschnitte der Unterteilung als "`Quadranten"'.
Dies kann, wie Abbildung \ref{fig:quadtree} auf Seite \pageref{fig:quadtree} demonstriert, direkt an den Koordinaten der Knoten stattfinden, je nach Quadtreetyp werden hier jedoch verschiedene Strategien eingesetzt.

Die einzelnen Knoten eines Baumes beinhalten Verweise auf vier Kindstrukturen, welche diejenigen Daten beinhalten, die sich vollständig in der entsprechenden Richtung des Knotens befinden. 
Gleichzeitig sind alle Knoten bei einem großen Teil der Quadtreetypen zugleich auch Datenknoten und enthalten somit die zu speichernden Werte.
Die Koordinaten der zu speichernden Daten bestimmen demnach die Gestalt der Struktur.

Dieses Prinzip der rekursiven Dekomposition erlaubt das effiziente Suchen in logarithmischer Zeit.\footnote{Siehe Kapitel \ref{sec:pointquadtree-suche} auf Seite \pageref{sec:pointquadtree-suche}}
\myfig{img/quadtree}{quadtree}{width=.5\textwidth}{Alle Kinder repräsentieren Teilbäume, welche sich vollständig in NW-, NE-, SW-, SE-Richtung des aktuellen Knoten befinden. Je nach Konvention können die Quadranten auch mittels ihrer Nummerierung referentiert werden.}


\section{Punktbasierte Quadtrees}
\subsection{Point Quadtree}
Dieser Quadtreetyp wurde erstmals 1974 von Finkel und Bentley in \cite{DBLP:journals/acta/FinkelB74} eingeführt.
\footnote{\zit{Vgl.}{compgeom:2000}{Seite 318}}
Point Quadtrees kann man als direkte Verallgemeinerung von binären Suchbäumen auf mehrdimensionale Räume auffassen. 
%\footnote{\zit{Vgl.}{DBLP:books/aw/Samet90}{Seite 48}}
Ähnlich zu diesen erfolgt die Aufteilung direkt an den Koordinaten der Knoten, sowie an beiden Dimensionen gleichzeitig. 

% vllt deBerg S 316 tiefe O( (d+1) n )
% und S 322
% As we have seen in this chapter, the size and depth of a quadtree for a set of n points cannot be bounded in terms of the number of the number of points only.
\myfig{img/pointquadtree-ins7+tree-trimmed}{pointquadtree}{width=.9\textwidth}{Gegenüberstellung: Ein Point Quadtree in Baum- bzw.\ Graphendarstellung}

\subsubsection{Suche}
\label{sec:pointquadtree-suche}
Der Algorithmus zur Suche von Koordinaten ergibt sich unmittelbar aus dem rekursiven Aufbauprinzip des Quadtrees. 

Die Suche beginnt beginnt an der Wurzel. In jedem Schritt werden je ein Vergleich der $x$- und $y$-Koordinate des aktuellen Knotens mit dem gesuchten Knoten durchgeführt, wodurch der Quadrant bestimmt wird, in welchen sich der gesuchte Knoten befindet. Ist dieser Quadrant leer, sprich ist kein Kindknoten bezüglich dieser Richtung am aktuellen Knoten vorhanden, wird die Suche erfolglos abgebrochen; andernfalls wird sie bei diesem Kindnoten fortgesetzt, bis die Koordinaten des gesuchten Knoten mit jenen des aktuellen Knoten übereinstimmen.

Durch die rekursive Aufteilung kann hier im Average Case mit logarithmischer Laufzeit gerechnet werden ($O(log_4 N)$). Allerdings hängt diese Größe von der Balanzierung des Baumes ab, wofür es beim Point Quadtree keine Garantien gibt. Dies führt im Falle einer Entartung zu einer linearen Laufzeit ($O(n)$).

\subsubsection{Einfügen}
\subsubsection{Löschen}

\subsection{Pseudo Quadtree}
\myfig{img/pseudoquadtree-ins3-trimmed}{pseudoquadtree}{width=.6\textwidth}{Pseudo Quadtree}

\subsection{\textit{k}-d Tree}
Erstmals in \cite{Bentley:1975}
\myfig{img/kdtree-tree-full-trimmed}{kdtree}{width=.8\textwidth}{\textit{k}-d Tree}

\section{Bereichsbasierte Quadtrees}
\subsection{Region Quadtree}

\subsection{MX Quadtree}
\myfig{img/mxquadtre-full-trimmed}{mxquadtree}{width=.7\textwidth}{MX Quadtree}
% erstmals? in quadtrees79.pdf   operations on images using quadtrees. hunter and steiglitz


\subsection{PR Quadtree}

\part{Praxis}

\section{Praktikum}


\newpage

\nocite{*} % display all entries of bib-file
\bibliography{bib}

\end{document}
